{% extends "layout.html" %}
{% from "timeline/macro.njk" import dwpTimeline %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% block pageTitle %}
First - Claimant details
{% endblock %}

{% block header %}
{% include "./includes/header.html" %}
{% endblock %}

{% block beforeContent %}
    {% include "./includes/key_details.html" %}
    {{ govukBackLink({
    text: "Back to Searchlight",
    href: "/searchlight/search-v2?search=second"
    }) }}
{% endblock %}

{% block content %}
{% if filled %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <div class="govuk-notification-banner govuk-notification-banner--success" role="alert" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
      <div class="govuk-notification-banner__header">
        <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
          Success
        </h2>
      </div>
      <div class="govuk-notification-banner__content">
        <h3 class="govuk-notification-banner__heading">
          Appointment booked for {{ modifyDate(2, true)}} at 1:00pm
        </h3>
        <p class="govuk-body">We'll send a notification to the claimant.</p>
      </div>
    </div>
  </div>
</div>
{% endif %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-third">
    <!-- <div class="govuk-assement-details">
      <p class="govuk-!-margin-bottom-2"><strong>Claim ends</strong></p>
      <p class="govuk-!-margin-bottom-0">12 November 2022</p>
    </div> -->

    <div class="govuk-accordion" data-module="govuk-accordion" id="accordion-default">
      <!-- <div class="govuk-accordion__section ">
        <div class="govuk-accordion__section-header">
          <h2 class="govuk-accordion__section-heading">
            <span class="govuk-accordion__section-button" id="accordion-default-heading-1">
              Claim summary
            </span>
          </h2>
        </div>
        <div id="accordion-default-content-1" class="govuk-accordion__section-content" aria-labelledby="accordion-default-heading-1">
          <p class='govuk-body'>Claim summary in here</p>
        </div>
      </div> -->
      <div class="govuk-accordion__section ">
        <div class="govuk-accordion__section-header">
          <h2 class="govuk-accordion__section-heading">
            <span class="govuk-accordion__section-button" id="accordion-default-heading-2">
              Claimant details
            </span>
          </h2>
        </div>
        <div id="accordion-default-content-2" class="govuk-accordion__section-content" aria-labelledby="accordion-default-heading-2">
          <p class='govuk-body'>Claimant details in here.</p>
        </div>
      </div>
    </div>

    <!-- <a href="#9" class="govuk-body">Customer statement</a> -->

  </div>

  <div class="govuk-grid-column-two-thirds">
    <div class="govuk-tabs" data-module="govuk-tabs">
      <ul class="govuk-tabs__list">
        <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
          <a class="govuk-tabs__tab" href="#appointments">
            Overview
          </a>
        </li>
        <li class="govuk-tabs__list-item">
          <a class="govuk-tabs__tab" href="#history">
            History
          </a>
        </li>
      </ul>
      <div class="govuk-tabs__panel" id="appointments">
        <table class="govuk-table">
          <caption class="govuk-table__caption govuk-table__caption--m">Today's appointments</caption>
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header">Date & time</th>
              <th scope="col" class="govuk-table__header">Appointment type</th>
              <th scope="col" class="govuk-table__header"></th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">1:00pm to 2:00pm</th>
              <td class="govuk-table__cell">Full initial NSJSA interview</td>
              <td class="govuk-table__cell"><a href="appointment" class="govuk-link--no-visited-state">view</a></td>
            </tr>

          </tbody>
        </table>

        <a href="book-appointment/type" class="govuk-button" data-module="govuk-button">
          Book an appointment
        </a>

        <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

        <h3 class="govuk-heading-m">Pinned notes</h3>
        <p>No pinned notes</p>

        <!-- <button class="govuk-button" data-module="govuk-button">
          Add a note
        </button> -->

      </div>
      <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="history">
        <table class="govuk-table govuk-!-font-size-19">
          <caption class="govuk-table__caption govuk-table__caption--m">Recent history</caption>
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header">Date & time</th>
              <th scope="col" class="govuk-table__header">Details</th>
              <th scope="col" class="govuk-table__header"></th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">{{modifyDate(-2)}} at 1:09pm</td>
              <td class="govuk-table__cell">Full New jobseeker interview booked</td>
              <td class="govuk-table__cell">by <a href="#" class="govuk-link--no-visited-state">Contact Centre</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">{{modifyDate(-2)}} at 2:34pm</td>
              <td class="govuk-table__cell">Claim processed</td>
              <td class="govuk-table__cell">by <a href="#" class="govuk-link--no-visited-state">Service Centre</a></td>
            </tr>
          </tbody>
        </table>

        <button class="govuk-button" data-module="govuk-button">
          Add a note
        </button>

      </div>
    </div>

  </div>
</div>

{# <div class="govuk-grid-row">

</div>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
        <h2 class="govuk-heading-m">
            Interviews
        </h2>
        {% if not route %}
        {{ govukTable({
        caption: "Upcoming interviews",
        captionClasses: "govuk-table__caption--s",
        firstCellIsHeader: true,
        head: [
        {
        text: "Date"
        },
        {
        text: "Time"
        },
        {
        text: "Type"
        }
        ],
        rows: [
        [
        {
        text: todaysDate
        },
        {
        text: "10:10am"
        },
        {
        html: "<a href='appointment'  class='govuk-link govuk-link--no-visited-state'>Work search review</a>"
        }
        ],
            [
                {
                text: twoWeeksFromNow
                },
                {
                text: "1:30pm"
                },
                {
                html: "<a href='appointment'  class='govuk-link govuk-link--no-visited-state'>Flexible review</a>"
                }
            ]
        ]
        }) }}
        {% else %}
            {% if filled %}
            {{ govukTable({
                caption: "Upcoming meeting",
                captionClasses: "govuk-table__caption--s",
                firstCellIsHeader: true,
                head: [
                {
                text: "Date"
                },
                {
                text: "Reason"
                },
                {}
                ],
                rows: [
                [
                {
                text: "12 Sept 2022"
                },
                {
                text: "Inital meeting"
                },
                {
                html: "<a href='edit-appointment/type' class='govuk-link govuk-link--no-visited-state'>Change</a>"
                }
                ]
                ]
                }) }}
            {% else %}
                <p> No interview booked </p>
            {% endif %}
        {% endif %}
        <p>
            <a href="book-appointment/type" class="govuk-link govuk-link--no-visited-state" id='new-appt'>
                Create new interview
            </a>
        </p>
        <p>
            <a href="#" class="govuk-link govuk-link--no-visited-state">
                Past interviews
            </a>
        </p>

    </div>
    <div class="govuk-grid-column-one-half">
            <h2 class="govuk-heading-m">
                Claimant history
            </h2>
            {% if not route %}
            {{ govukTable({
            caption: "History",
            captionClasses: "govuk-table__caption--s",
            firstCellIsHeader: true,
            head: [
            {
            text: "Date"
            },
            {
            text: "Item"
            },
            {
            text: "Who"
            }
            ],
            rows: [
            [
            {
            text: "12 02 2022"
            },
            {
            text: "Checked credentials"
            },
            {
                text: "James Gordon"
                }
            ],
            [
            {
            text: "31 03 2022"
            },
            {
            text: "Check-in"
            },
            {
                text: "John Grace"
                }
            ]
            ]
            }) }}
            <a href="#" class="govuk-link govuk-link--no-visited-state">
                More history >
            </a>
            {% else %}
                <p>Claimant has no history</p>
            {% endif %}
    </div>
</div> #}

{% endblock %}
