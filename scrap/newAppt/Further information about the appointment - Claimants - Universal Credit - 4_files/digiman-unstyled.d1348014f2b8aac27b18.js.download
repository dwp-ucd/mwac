!function(s){var l={};function n(_){if(l[_])return l[_].exports;var w=l[_]={i:_,l:!1,exports:{}};return s[_].call(w.exports,w,w.exports,n),w.l=!0,w.exports}n.m=s,n.c=l,n.d=function(s,l,_){n.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:_})},n.r=function(s){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},n.t=function(s,l){if(1&l&&(s=n(s)),8&l)return s;if(4&l&&"object"==typeof s&&s&&s.__esModule)return s;var _=Object.create(null);if(n.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:s}),2&l&&"string"!=typeof s)for(var w in s)n.d(_,w,function(l){return s[l]}.bind(null,w));return _},n.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(l,"a",l),l},n.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},n.p="",n(n.s=21)}([function(s,l){s.exports='<div class="govuk-form-group" id="id-section-{{id}}">\n  {{#readOnly}}\n    <div>\n      <p class="govuk-fieldset__legend govuk-fieldset__legend--s text">\n        {{label}}\n      </p>\n      <p id="{{id}}-hint" class="govuk-hint text">\n        {{#hint}}{{hint}}{{/hint}}\n      </p>\n      {{#options}}\n        {{#selected}}\n          <p class="govuk-body text" id="{{id}}-{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}"\n              data-name="{{id}}"\n              {{#questionBlockId}}data-next-section-id="{{questionBlockId}}"{{/questionBlockId}}\n          >\n            {{text}}\n          </p>\n        {{/selected}}\n      {{/options}}\n    </div>\n  {{/readOnly}}\n  {{^readOnly}}\n    <fieldset class="govuk-fieldset" aria-describedby="{{id}}-hint {{id}}-error">\n      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m text">\n          {{label}}\n      </legend>\n      <span id="{{id}}-hint" class="govuk-hint text">\n        {{#hint}}{{hint}}{{/hint}}\n      </span>\n      <span data-validation-error="" id="{{id}}-error" class="govuk-error-message form-error text"></span>\n      <div class="govuk-radios {{#hasTwoOptions}}govuk-radios--inline{{/hasTwoOptions}}">\n        {{#options}}\n        <div class="govuk-radios__item">\n          <input\n              {{#selected}}checked{{/selected}}\n              class="govuk-radios__input digiman__radio {{^questionBlockId}}digiman__radio--content-block{{/questionBlockId}}{{#questionBlockId}}digiman__radio--decision-block{{/questionBlockId}}"\n              id="{{id}}-{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}"\n              name="{{id}}"\n              type="radio"\n              {{#optionId}}data-option-id="{{optionId}}"{{/optionId}}\n              value="{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}"\n              {{#questionBlockId}}data-next-section-id="{{questionBlockId}}"{{/questionBlockId}}\n          />\n          <label class="govuk-label govuk-radios__label" for="{{id}}-{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}">\n            {{text}}\n          </label>\n        </div>\n        {{/options}}\n      </div>\n    </fieldset>\n  {{/readOnly}}\n</div>\n'},function(s,l){s.exports='<div class="govuk-form-group" id="id-section-{{id}}">\n  {{#readOnly}}\n    <div>\n      <p class="govuk-fieldset__legend govuk-fieldset__legend--s text">\n        {{label}}\n      </p>\n      <p id="{{id}}-hint" class="govuk-hint text">\n        {{#hint}}{{hint}}{{/hint}}\n      </p>\n      <ul class="list-checks">\n        {{#options}}\n          {{#selected}}\n            <li id="{{id}}-{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}"\n                  data-name="{{id}}"\n                  {{#questionBlockId}}data-next-section-id="{{questionBlockId}}"{{/questionBlockId}}\n              >\n                <span class="govuk-body text">{{text}}</span>\n            </li>\n          {{/selected}}\n        {{/options}}\n      </ul>\n    </div>\n  {{/readOnly}}\n  {{^readOnly}}\n    {{^isSingleOptionWithoutLegend}}\n    <fieldset class="govuk-fieldset" aria-describedby="{{id}}-hint {{id}}-error">\n      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m text">\n        {{label}}\n      </legend>\n      {{/isSingleOptionWithoutLegend}}\n      <span id="{{id}}-hint" class="govuk-hint text">\n        {{#hint}}{{hint}}{{/hint}}\n      </span>\n      <span data-validation-error="" id="{{id}}-error" class="govuk-error-message form-error text"></span>\n      <div class="govuk-checkboxes">\n        {{#options}}\n          <div class="govuk-checkboxes__item">\n            <input\n                class="govuk-checkboxes__input digiman__checkbox {{^questionBlockId}}digiman__checkbox--content-block{{/questionBlockId}}{{#questionBlockId}}digiman__checkbox--decision-block{{/questionBlockId}}"\n                id="{{id}}-{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}"\n                name="{{id}}"\n                type="checkbox"\n                {{#optionId}}data-option-id="{{optionId}}"{{/optionId}}\n                value="{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}"\n              {{#selected}}checked{{/selected}}\n              {{#questionBlockId}}data-next-section-id="{{questionBlockId}}"{{/questionBlockId}}\n              {{#isSingleOptionWithoutLegend}}aria-describedby="{{id}}-hint {{id}}-error"{{/isSingleOptionWithoutLegend}}\n            >\n            <label class="govuk-label govuk-checkboxes__label"\n                   for="{{id}}-{{^questionBlockId}}{{value}}{{/questionBlockId}}{{#questionBlockId}}{{questionBlockId}}{{/questionBlockId}}{{#optionId}}-{{optionId}}{{/optionId}}"\n            >\n              {{text}}\n            </label>\n          </div>\n        {{/options}}\n      </div>\n    {{^isSingleOptionWithoutLegend}}</fieldset>{{/isSingleOptionWithoutLegend}}\n  {{/readOnly}}\n</div>'},function(s,l){s.exports='<div class="govuk-form-group text" id="id-section-{{id}}">\n  {{#readOnly}}\n    <p class="govuk-fieldset__legend govuk-fieldset__legend--s">\n      {{label}}\n    </p>\n    <p id="{{id}}-hint" class="govuk-hint">\n      {{#hint}}{{hint}}{{/hint}}\n    </p>\n    <p id="{{id}}" data-name="{{id}}" class="govuk-body text digiman__value-input--read-only">{{value}}</p>\n  {{/readOnly}}\n  {{^readOnly}}\n    <label class="govuk-label govuk-label--m" for="{{id}}">\n      {{label}}\n    </label>\n    <span id="{{id}}-hint" class="govuk-hint">\n      {{#hint}}{{hint}}{{/hint}}\n    </span>\n    <input class="govuk-input govuk-input--width-20 digiman__value-input" id="{{id}}" name="{{id}}" type="text" value="{{value}}" aria-describedby="{{id}}-hint">\n  {{/readOnly}}\n</div>'},function(s,l){s.exports='<div class="govuk-form-group" id="id-section-{{id}}">\n  {{#readOnly}}\n    <p class="govuk-fieldset__legend govuk-fieldset__legend--s text">\n      {{label}}\n    </p>\n    <p id="{{id}}-hint" class="govuk-hint text">\n      {{#hint}}{{hint}}{{/hint}}\n    </p>\n    <p class="govuk-body text" id="{{id}}" data-name="{{id}}">{{#value}}{{day}}/{{month}}/{{year}}{{/value}}</p>\n  {{/readOnly}}\n  {{^readOnly}}\n    <fieldset class="govuk-fieldset" aria-describedby="{{id}}-hint" role="group">\n      <legend class="govuk-fieldset__legend govuk-fieldset__legend--m text">\n        {{label}}\n      </legend>        \n      <span id="{{id}}-hint" class="govuk-hint text">\n        {{#hint}}{{hint}}{{/hint}}\n      </span>\n      <div class="form-date govuk-date-input" data-id="{{id}}"> \n        <div class="form-group form-group-day govuk-date-input__item">\n          <label for="{{id}}.day" class="govuk-label govuk-date-input__label">\n            Day\n          </label>\n          <input type="tel" \n                 class="day form-control govuk-input govuk-date-input__input govuk-input--width-2" \n                 maxlength="2" id="{{id}}.day"\n                 name="{{id}}" \n                 value="{{day}}"\n                 data-type="day"\n                 aria-describedby="{{id}}-hint" />\n        </div>\n        <div class="form-group form-group-month govuk-date-input__item">\n          <label for="{{id}}.month" class="govuk-label govuk-date-input__label">\n            Month\n          </label>\n          <input type="tel" \n                 class="month form-control govuk-input govuk-date-input__input govuk-input--width-2" \n                 maxlength="2" id="{{id}}.month"\n                 name="{{id}}" \n                 value="{{month}}"\n                 data-type="month"\n                 aria-describedby="{{id}}-hint" />\n        </div>\n        <div class="form-group form-group-year govuk-date-input__item">\n          <label for="{{id}}.year" class="govuk-label govuk-date-input__label">\n            Year\n          </label>\n          <input type="tel" \n                 class="year form-control govuk-input govuk-date-input__input govuk-input--width-4" \n                 maxlength="4" id="{{id}}.year"\n                 name="{{id}}" \n                 value="{{year}}"\n                 data-type="year"\n                 aria-describedby="{{id}}-hint" />\n        </div>\n        <div class="date-picker date-picker__text-date govuk-date-input__item">\n          <div class="date-picker__controls hidden">\n            <label for="date-picker-{{id}}" class="visuallyhidden">Date Picker</label>\n            <input type="text" id="date-picker-{{id}}" aria-label="Open date picker" class="date-picker-input" name="date-picker-{{id}}">\n            <button type="button" class="link-style date-picker__button--toggle govuk-body" name="Select date">Select date\n              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" focusable="false" width="20" height="22" viewBox="0 0 26 28" class="date-picker__calendar-icon">\n                <title>calendar</title>\n                <path d="M2 26h4.5v-4.5h-4.5v4.5zM7.5 26h5v-4.5h-5v4.5zM2 20.5h4.5v-5h-4.5v5zM7.5 20.5h5v-5h-5v5zM2 14.5h4.5v-4.5h-4.5v4.5zM13.5 26h5v-4.5h-5v4.5zM7.5 14.5h5v-4.5h-5v4.5zM19.5 26h4.5v-4.5h-4.5v4.5zM13.5 20.5h5v-5h-5v5zM8 7v-4.5c0-0.266-0.234-0.5-0.5-0.5h-1c-0.266 0-0.5 0.234-0.5 0.5v4.5c0 0.266 0.234 0.5 0.5 0.5h1c0.266 0 0.5-0.234 0.5-0.5zM19.5 20.5h4.5v-5h-4.5v5zM13.5 14.5h5v-4.5h-5v4.5zM19.5 14.5h4.5v-4.5h-4.5v4.5zM20 7v-4.5c0-0.266-0.234-0.5-0.5-0.5h-1c-0.266 0-0.5 0.234-0.5 0.5v4.5c0 0.266 0.234 0.5 0.5 0.5h1c0.266 0 0.5-0.234 0.5-0.5zM26 6v20c0 1.094-0.906 2-2 2h-22c-1.094 0-2-0.906-2-2v-20c0-1.094 0.906-2 2-2h2v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h6v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h2c1.094 0 2 0.906 2 2z"></path>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </fieldset>\n  {{/readOnly}}\n</div>'},function(s,l){s.exports='<div class="govuk-form-group text" id="id-section-{{id}}">\n  {{#readOnly}}\n    <p class="govuk-fieldset__legend govuk-fieldset__legend--s">\n      {{label}}\n    </p>\n    <p id="{{id}}-hint" class="govuk-hint">\n      {{#hint}}{{hint}}{{/hint}}\n    </p>\n    <pre class="preformatted-paragraph govuk-body text digiman__value-input--read-only" id="{{id}}" data-name="{{id}}">{{value}}</pre>\n  {{/readOnly}}\n  {{^readOnly}}\n    <label class="govuk-label govuk-label--m" for="{{id}}">\n      {{label}}\n    </label>\n    <span id="{{id}}-hint" class="govuk-hint">\n      {{#hint}}{{hint}}{{/hint}}\n    </span>\n    <textarea class="govuk-textarea digiman__value-input" id="{{id}}" name="{{id}}" rows="5" aria-describedby="{{id}}-hint">{{value}}</textarea>\n  {{/readOnly}}\n</div>'},function(s,l){s.exports='<ul class="govuk-list govuk-list--bullet text">\n  {{#content}}\n    <li class="govuk-body">{{.}}</li>\n  {{/content}}\n</ul>'},function(s,l){s.exports='<ol class="govuk-list govuk-list--number text">\n  {{#content}}\n    <li class="govuk-body">{{.}}</li>\n  {{/content}}\n</ol>'},function(s,l){s.exports='<p class="govuk-hint text">{{content}}</p>'},function(s,l){s.exports='<p class="govuk-inset-text text">{{content}}</p>'},function(s,l){s.exports='<p class="govuk-body text">{{content}}</p>'},function(s,l){s.exports='{{#hasIntroductionHeading}}\n  {{#isSectionWithIntroductionHeading}}\n    <h2 class="text govuk-heading-l">{{content}}</h2>\n  {{/isSectionWithIntroductionHeading}}\n  {{^isSectionWithIntroductionHeading}}\n    <h3 class="text govuk-heading-l">{{content}}</h3>\n  {{/isSectionWithIntroductionHeading}}\n{{/hasIntroductionHeading}}\n{{^hasIntroductionHeading}}\n  <h2 class="text govuk-heading-l">{{content}}</h2>\n{{/hasIntroductionHeading}}'},function(s,l){s.exports='<div class="govuk-form-group text" id="id-section-{{id}}">\n  {{#readOnly}}\n    <h3 class="govuk-fieldset__legend govuk-fieldset__legend--s">\n      {{label}}\n    </h3>\n    <p id="{{id}}-hint" class="govuk-hint">\n      {{#hint}}{{hint}}{{/hint}}\n    </p>\n    {{#options}}\n      {{#selected}}\n        <p id="id-{{value}}" data-name="{{id}}" class="govuk-body text digiman__value-input--read-only">{{text}}</p>\n      {{/selected}}\n    {{/options}}\n  {{/readOnly}}\n  {{^readOnly}}\n      <label class="govuk-fieldset__legend govuk-fieldset__legend--m text" for="id-{{id}}">\n        {{label}}\n      </label>\n      <span id="id-select-{{id}}-hint" class="govuk-hint text">\n          {{#hint}}{{hint}}{{/hint}}\n      </span>\n      <select id="id-{{id}}" name="{{id}}" aria-describedby="{{id}}-hint" class="govuk-select digiman__select form-control">\n          <option value="Select" disabled {{#noOptionSelected}}selected="true"{{/noOptionSelected}}>Select</option>\n          {{#options}}\n            <option value="{{value}}" {{#selected}}selected="selected"{{/selected}}>\n                {{text}}\n            </option>\n          {{/options}}\n      </select>\n  {{/readOnly}}\n</div>'},function(s,l){s.exports='<div class="govuk-body text">\n  <a href="{{url}}" class="govuk-link" target="_blank" rel="external noopener noreferrer">{{content}}</a>\n</div>'},function(s,l,_){"use strict";var w,E,T=function(){function t(s){if("Block"===this.constructor.name)throw new TypeError('Abstract class "Block" cannot be instantiated directly.');this._type=s}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t}(),B=(w=function(s,l){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)},function(s,l){function n(){this.constructor=s}w(s,l),s.prototype=null===l?Object.create(l):(n.prototype=l.prototype,new n)}),x=function(s){function e(l){var _=s.call(this,l.type)||this;if("FormBlock"===_.constructor.name)throw new TypeError('Abstract class "FormBlock" cannot be instantiated directly.');return _._readOnly=l.readOnly,_._id=l.id,_._label=l.label,_._hint=l.hint,_}return B(e,s),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this._readOnly},set:function(s){this._readOnly=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(s){this._id=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return this._hint},set:function(s){this._hint=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(s){this._label=s},enumerable:!0,configurable:!0}),e}(T);!function(s){s.RADIO="RADIO",s.CHECKBOX="CHECKBOX",s.TEXT_INPUT="TEXT_INPUT",s.TEXTAREA="TEXTAREA",s.BREAK="BREAK",s.HINT="HINT",s.IMPORTANT="IMPORTANT",s.LIST="LIST",s.LIST_ORDERED="LIST_ORDERED",s.PARAGRAPH="PARAGRAPH",s.HEADING="HEADING",s.DATE="DATE",s.ADD_MORE="ADD_MORE",s.SELECT="SELECT",s.LINK="LINK"}(E||(E={}));var C,A=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),P=function(s){function e(l){var _=s.call(this,l)||this;return _._value="",_}return A(e,s),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(s){this._value=s},enumerable:!0,configurable:!0}),e.prototype.setState=function(s){this.value=s},e.prototype.resetState=function(){this.value=""},e}(x);function d(s){var l=h(s);return 1===l.length&&(l="0"+l),2!==l.length&&(l=null),l}function h(s){return s.replace(/[^0-9]/g,"")}!function(s){s.DAY="day",s.MONTH="month",s.YEAR="year"}(C||(C={}));var N=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),q=function(s){function e(l){var _=s.call(this,l)||this;return _._DEFAULT_HINT_TEXT="For example, 31 3 2018",_._day=l.day,_._month=l.month,_._year=l.year,_._value=null,_.hint=_.hint&&_.hint.length>0?_.hint:_._DEFAULT_HINT_TEXT,_}return N(e,s),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(s){this._value=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"day",{get:function(){return this._day},set:function(s){this._day=d(s)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"month",{get:function(){return this._month},set:function(s){this._month=d(s)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"year",{get:function(){return this._year},set:function(s){var l;this._year=4===(l=h(s)).length?l:null},enumerable:!0,configurable:!0}),e.prototype.updateValue=function(){this.day&&this.month&&this.year&&(this.value=parseInt(this.year+this.month+this.day))},e.prototype.isValueValid=function(s){return 8===s.length},e.prototype.setState=function(s,l){if(l)this._updateDateBlockState(s,l);else{var _=h(s.toString());this.isValueValid(_)&&(this.value=s,this.day=function(s){return s.substring(6,8)}(_),this.month=function(s){return s.substring(4,6)}(_),this.year=function(s){return s.substring(0,4)}(_))}},e.prototype.resetState=function(){this.value=null,this.day="",this.month="",this.year=""},e.prototype.getDateBlockState=function(s){return s===C.DAY?this.day:s===C.MONTH?this.month:s===C.YEAR?this.year:void 0},e.prototype._updateDateBlockState=function(s,l){l===C.DAY?this.day=s:l===C.MONTH?this.month=s:l===C.YEAR&&(this.year=s),this.updateValue()},e}(x),L=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),M=function(s){function e(l){var _=s.call(this,l.type)||this;return _._content=l.content,_}return L(e,s),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),e}(T),j=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),R=function(s){function e(l){var _=s.call(this,l)||this;return _._hasIntroductionHeading=l.hasIntroductionHeading,_._isSectionWithIntroductionHeading=l.isSectionWithIntroductionHeading,_}return j(e,s),Object.defineProperty(e.prototype,"hasIntroductionHeading",{get:function(){return this._hasIntroductionHeading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSectionWithIntroductionHeading",{get:function(){return this._isSectionWithIntroductionHeading},enumerable:!0,configurable:!0}),e}(M),H=_(14);function k(s){return H(s)}function m(s,l,_,w,E){var T=E&&E.useCapture||!1;s.addEventListener(l,(function(l){for(var E=l.target;E;){if(E===s)return;if(_&&E.matches(_))return l.delegateTarget=s,l.subjectTarget=E,void w(l);E=E.parentNode}}),T)}function O(s,l,_){void 0===l&&(l={}),void 0===_&&(_=!1);for(var w=0,E=Object.entries(l);w<E.length;w++){var T=E[w],B=T[0],x=T[1];s=s.replace(new RegExp("{"+B+"}","g"),x)}return _?s:k(s)}function S(s,l){var _=l.split(".").join("");return s.classList.contains(_)?s:!(!s.parentNode||!s.parentNode.classList)&&S(s.parentNode,_)}var F=_(15);function D(s,l){return F.render(s,l)}var U=_(0),V=_.n(U),Y=_(1),W=_.n(Y),Q=_(2),K=_.n(Q),X=_(3),z=_.n(X),G=_(4),J=_.n(G),Z=_(5),tt=_.n(Z),et=_(6),nt=_.n(et),it=_(7),ot=_.n(it),rt=_(8),st=_.n(rt),at=_(9),ct=_.n(at),lt=_(10),ut=_.n(lt),dt=_(11),ht=_.n(dt),pt=_(12),ft=_.n(pt);function $(s){var l;switch(s.type){case E.RADIO:l=D(V.a,s);break;case E.CHECKBOX:l=D(W.a,s);break;case E.TEXT_INPUT:l=D(K.a,s);break;case E.DATE:l=D(z.a,s);break;case E.TEXTAREA:l=D(J.a,s);break;case E.BREAK:l=D("<br />",s);break;case E.HINT:l=D(ot.a,s);break;case E.IMPORTANT:l=D(st.a,s);break;case E.LIST:l=D(tt.a,s);break;case E.LIST_ORDERED:l=D(nt.a,s);break;case E.PARAGRAPH:l=D(ct.a,s);break;case E.HEADING:l=D(ut.a,s);break;case E.SELECT:l=D(ht.a,s);break;case E.LINK:l=D(ft.a,s);break;default:l=null}return k(l)}var yt,gt=function(){function t(){}return t.prototype.createView=function(s){var l=k('<div id="id-add-more-'+s.id+'"></div>');return this.createFieldsets(s).forEach((function(s){return l.append(s)})),s.readOnly||l.append(s.addMoreButton),s.htmlNode=l,s.addEvents(),l},t.prototype.createFieldsets=function(s){var l=this,_=[];return s.blocks.forEach((function(w,E){var T,B=s.id;T=l.createFieldset(B,E+1),w.forEach((function(s){T.append($(s))})),!s.readOnly&&E>0&&T.append(s.createRemoveButton(B,E+1)),_.push(T)})),_},t.prototype.createAddMoreButton=function(s){return k('<input id="add-more-button-'+s+'" type="button" value="Add another" class="button button-secondary add-more__add-button" data-add-more-id="'+s+'" />')},t.prototype.createRemoveButton=function(s,l){return k('<button class="govuk-body link-style add-more__remove-button" type="button" aria-controls="id-add-more-'+s+"-"+l+'" data-remove-number="'+l+'">Remove <span class="visuallyhidden">set of inputs '+l+"</span></button>")},t.prototype.createFieldset=function(s,l){return k('<fieldset id="id-add-more-'+s+"-"+l+'" class="govuk-fieldset digiman__add-more-fieldset"></fieldset>')},t}(),vt=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),bt=function(s){function e(l){var _=s.call(this,l.type)||this;return _.addMoreBlockView=new gt,_._blocks=[],_._blocksData=l.blocks,_._id=l.id,_._readOnly=l.readOnly,_._itemsCount=1,_._blocks.push(_._createBlocks(_._blocksData)),_.cacheElements(),_.handleRemoveClick=_.handleRemoveClick.bind(_),_.handleClick=_.handleClick.bind(_),_}return vt(e,s),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blocksData",{get:function(){return this._blocksData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blocks",{get:function(){return this._blocks},set:function(s){this._blocks=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this._readOnly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsCount",{get:function(){return this._itemsCount},set:function(s){this._itemsCount=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addMoreButton",{get:function(){return this._addMoreButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"htmlNode",{get:function(){return this._htmlNode},set:function(s){this._htmlNode=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var s=[];return this.blocks.forEach((function(l){var _=[];l.forEach((function(s){_.push({id:s.id,value:s.value})})),s.push(_)})),s},enumerable:!0,configurable:!0}),e.prototype.getChildById=function(s){for(var l=null,_=0;_<this.blocks.length&&!(l=this.blocks[_].find((function(l){return l.id===s})));_++);return l},e.prototype.handleClick=function(s){s.preventDefault(),this.addAnotherItem(),this.focusFirstInputOfSet(this.itemsCount)},e.prototype.focusFirstInputOfSet=function(s){this.htmlNode.querySelector("#"+this._blocksData[0].id+"--"+s).focus()},e.prototype.addAnotherItem=function(){this.itemsCount++;var s=this._addMoreButton.parentNode,l=this._createBlocks(this.blocksData);this._blocks.push(l);for(var _=this.addMoreBlockView.createFieldset(this.id,this.itemsCount),w=0,E=l;w<E.length;w++){var T=E[w];_.append($(T))}var B=this.createRemoveButton(this.id,this.itemsCount);_.append(B),s.insertBefore(_,this._addMoreButton)},e.prototype.createRemoveButton=function(s,l){return this.addMoreBlockView.createRemoveButton(s,l)},e.prototype.addEvents=function(){this._addMoreButton.addEventListener("click",this.handleClick),m(this.htmlNode,"click",".add-more__remove-button",this.handleRemoveClick)},e.prototype.handleRemoveClick=function(s){var l=this;s.preventDefault();var _=s.target,w=parseInt(_.dataset.removeNumber),E=w-1,T=this.blocks.length;if(this.htmlNode.querySelector("#id-add-more-"+this.id+"-"+w).remove(),this.itemsCount--,E<this.itemsCount){for(var B=0;B<T;B++){var x=this.htmlNode.querySelector("#id-add-more-"+this.id+"-"+(B+1));x&&x.remove()}this.blocks.splice(E,1),this.blocks.forEach((function(s,_){_>=E&&s.forEach((function(s,w){s.id=""+l.id+(w+1)+"--"+(_+1),s.label=s.label.replace(/\((.*)\)/,"("+(_+1)+")")}))}));var C=JSON.parse(JSON.stringify(this.value));this.setState(C),this.addMoreBlockView.createFieldsets(this).forEach((function(s){return l._htmlNode.insertBefore(s,l._addMoreButton)})),this.focusFirstInputOfSet(w)}else this.blocks.pop(),this._addMoreButton.focus()},e.prototype.cacheElements=function(){this._addMoreButton=this.addMoreBlockView.createAddMoreButton(this.id)},e.prototype.setChildState=function(s,l){var _=null;this.blocks.forEach((function(s){var w=s.find((function(s){return s.id===l}));w&&(_=w)})),_&&_.setState(s)},e.prototype.setState=function(s){var l=this;this._blocks=[],this.itemsCount=0,s.forEach((function(s){l.itemsCount++,l._blocks.push(l._createBlocks(l.blocksData))})),s.forEach((function(s){s.forEach((function(s){l.getChildById(s.id).setState(s.value)}))}))},e.prototype.resetState=function(){this.blocks=[],this.itemsCount=1,this.blocks.push(this._createBlocks(this.blocksData))},e.prototype._createBlocks=function(s){var l=this,_=[];return JSON.parse(JSON.stringify(s)).forEach((function(s){s.id=s.id+"--"+l.itemsCount,s.label=s.label+" ("+l.itemsCount+")",s.readOnly=l.readOnly,_.push(new P(s))})),_},e}(T),_t=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),St=function(s){function e(l){var _=s.call(this,l)||this;if("OptionBlock"===_.constructor.name)throw new TypeError('Abstract class "OptionBlock" cannot be instantiated directly.');return _._options=l.options,_}return _t(e,s),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.getOptionById=function(s){return this.options.find((function(l){return l.value===s}))},e.prototype.unSelectAllOptions=function(){this.options.forEach((function(s){s.selected=!1}))},e}(x),Dt=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),wt=function(s){function e(l){var _=s.call(this,l)||this;return _._value="",_._noOptionSelected=!0,_}return Dt(e,s),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(s){this._value=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noOptionSelected",{get:function(){return this._noOptionSelected},set:function(s){this._noOptionSelected=s},enumerable:!0,configurable:!0}),e.prototype.setState=function(s){var l=this.getOptionById(s);this._unSelectAllOptions(),this._selectOption(l)},e.prototype.resetState=function(){this._unSelectAllOptions()},e.prototype._selectOption=function(s){s.selected=!0,this.value=s.value,this.noOptionSelected=!1},e.prototype._unSelectAllOptions=function(){this.noOptionSelected=!0,this.value="",this.options.forEach((function(s){s.selected=!1}))},e}(St),Et=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),Tt=function(s){function e(l){var _=s.call(this,l)||this;return _._isSingleOptionWithoutLegend=1===l.options.length&&(!l.label||0===l.label.length),_}return Et(e,s),Object.defineProperty(e.prototype,"isSingleOptionWithoutLegend",{get:function(){return this._isSingleOptionWithoutLegend},enumerable:!0,configurable:!0}),e.prototype.setState=function(s,l){var _=this.getOptionById(s);this._selectCheckboxOption(_,l)},e.prototype.resetState=function(){this.unSelectAllOptions()},e.prototype._selectCheckboxOption=function(s,l){s.selected=l},e}(St),Bt=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),Ct=function(s){function e(l){var _=s.call(this,l)||this;return _._hasTwoOptions=2===l.options.length,_}return Bt(e,s),Object.defineProperty(e.prototype,"hasTwoOptions",{get:function(){return this._hasTwoOptions},enumerable:!0,configurable:!0}),e.prototype.setState=function(s){var l=this.getOptionById(s);this.unSelectAllOptions(),this._selectRadioOption(l)},e.prototype.resetState=function(){this.unSelectAllOptions()},e.prototype._selectRadioOption=function(s){s.selected=!0},e}(St);!function(s){s.DONE="done"}(yt||(yt={}));var At=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),Pt=function(s){function e(l){var _=s.call(this,l)||this;return _._nextSection="",_._selectedOptionId="",_._isLastQuestion=!!l.options.find((function(s){return s.questionBlockId===yt.DONE})),_}return At(e,s),Object.defineProperty(e.prototype,"nextSection",{get:function(){return this._nextSection},set:function(s){this._nextSection=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptionId",{get:function(){return this._selectedOptionId},set:function(s){this._selectedOptionId=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastQuestion",{get:function(){return this._isLastQuestion},enumerable:!0,configurable:!0}),e.prototype.setState=function(l,_){s.prototype.setState.call(this,l,_);var w=this.getOptionById(l);this.nextSection=w.selected?w.questionBlockId:"",this.selectedOptionId=w.selected&&w.optionId?w.optionId:""},e.prototype.getOptionById=function(s){return this.options.find((function(l){var _=l.optionId?"-"+l.optionId:"";return s===l.questionBlockId+_}))},e.prototype.resetState=function(){s.prototype.unSelectAllOptions.call(this),this.nextSection=""},e}(Tt),Nt=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),qt=function(s){function e(l){var _=s.call(this,l)||this;return _._nextSection="",_._selectedOptionId="",_}return Nt(e,s),Object.defineProperty(e.prototype,"nextSection",{get:function(){return this._nextSection},set:function(s){this._nextSection=s},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptionId",{get:function(){return this._selectedOptionId},set:function(s){this._selectedOptionId=s},enumerable:!0,configurable:!0}),e.prototype.setState=function(l){s.prototype.setState.call(this,l);var _=this.getOptionById(l);this.nextSection=_.selected?_.questionBlockId:"",this.selectedOptionId=_.selected&&_.optionId?_.optionId:""},e.prototype.getOptionById=function(s){return this.options.find((function(l){var _=l.optionId?"-"+l.optionId:"";return s===l.questionBlockId+_}))},e.prototype.resetState=function(){s.prototype.unSelectAllOptions.call(this),this.nextSection=""},e}(Ct),Lt=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),Mt=function(s){function e(l){var _=s.call(this,{type:l.type,content:l.content})||this;return _._url=l.url,_}return Lt(e,s),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),e}(M),jt=function(){function t(){}return t.prototype.createContentBlock=function(s,l,_,w){return s.type===E.TEXT_INPUT||s.type===E.TEXTAREA?this._createValueBlock(s,l):s.type===E.CHECKBOX?this._createCheckboxBlock(s,l):s.type===E.RADIO?this._createRadioBlock(s,l):s.type===E.DATE?this._createDateBlock(s,l):s.type===E.HEADING?this._createContentHeadingBlock(s,_,w):s.type===E.ADD_MORE?this._createAddMoreBlock(s,l):s.type===E.SELECT?this._createSelectBlock(s,l):s.type===E.LINK?this._createLinkBlock(s):this._createContentBlock(s)},t.prototype.createDecisionBlock=function(s,l){return s.readOnly=l,s.type===E.CHECKBOX?new Pt(s):s.type===E.RADIO?new qt(s):void 0},t.prototype._createAddMoreBlock=function(s,l){return s.readOnly=l,new bt(s)},t.prototype._createValueBlock=function(s,l){return s.readOnly=l,new P(s)},t.prototype._createDateBlock=function(s,l){return s.readOnly=l,new q(s)},t.prototype._createSelectBlock=function(s,l){return s.readOnly=l,new wt(s)},t.prototype._createRadioBlock=function(s,l){return s.readOnly=l,new Ct(s)},t.prototype._createCheckboxBlock=function(s,l){return s.readOnly=l,new Tt(s)},t.prototype._createContentHeadingBlock=function(s,l,_){return s.hasIntroductionHeading=l,s.isSectionWithIntroductionHeading=_,new R(s)},t.prototype._createContentBlock=function(s){return new M(s)},t.prototype._createLinkBlock=function(s){return new Mt(s)},t}(),Ht=function(){function t(s){this._contentBlocks=[],this._readOnly=s.readOnly,this._hasIntroductionHeading=s.hasIntroductionHeading,this._isSectionWithIntroductionHeading=!1,this._id=s.id,this._digimanId=s.digimanId,this._blockFactory=new jt,this._init(s.contents,s.question)}return Object.defineProperty(t.prototype,"hasIntroductionHeading",{get:function(){return this._hasIntroductionHeading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this._readOnly},set:function(s){this._readOnly=s},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decisionBlock",{get:function(){return this._decisionBlock},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentBlocks",{get:function(){return this._contentBlocks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"digimanId",{get:function(){return this._digimanId},enumerable:!0,configurable:!0}),t.prototype.getContentBlockById=function(s){var l=this.contentBlocks.find((function(l){if(l instanceof x||l instanceof bt)return l.id===s}));return l||(l=this.contentBlocks.filter((function(s){return"ADD_MORE"===s.type})).find((function(l){return l.blocks.find((function(l){return l.find((function(l){return l.id===s}))}))}))),l},t.prototype.resetAllFormBlocksState=function(){this.decisionBlock.resetState(),this.contentBlocks.forEach((function(s){(s instanceof x||s instanceof bt)&&s.resetState()}))},t.prototype._init=function(s,l){this._createContentBlocks(s),l&&this._createDecisionBlock(l)},t.prototype._createDecisionBlock=function(s){this._decisionBlock=this._blockFactory.createDecisionBlock(s,this.readOnly)},t.prototype._createContentBlocks=function(s){var l=this;s.forEach((function(s,_){l._isSectionWithIntroductionHeading=l._hasIntroductionHeading&&"qb-start-id"===l._id&&0===_,l._contentBlocks.push(l._blockFactory.createContentBlock(s,l.readOnly,l._hasIntroductionHeading,l._isSectionWithIntroductionHeading))}))},t}(),Ft=(_(16),function(){function t(){}return t.fetchData=function(s){return fetch(s.url,{method:s.type,cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":s.contentType,"X-CSRF-TOKEN":s.csrfToken,Accept:s.acceptHeader,"X-Suppress-Redirect":!0},body:s.body,signal:s.signal}).then((function(s){return s})).catch((function(s){return s}))},t}());function kt(s){for(var l=[],_=0;_<s.length;_++)for(var w=s[_],E=w.id,T=w.decisionBlock.nextSection,B=w.decisionBlock.options,x=0;x<B.length;x++){var C=B[x];if(!0===C.selected){var A,P={};P.questionBlockId=E,P.answerId=T,C.optionId&&(P.optionId=C.optionId),(A=mt(w)).length&&(P.data=A),l.push(P)}}return l}function mt(s){for(var l=[],_=s.contentBlocks,w=0;w<_.length;w++){var E=_[w];if(E instanceof St)for(var T=E.options,B=0;B<T.length;B++){var x=T[B];!0===x.selected&&l.push(Ot(E.id,x.value))}else E instanceof q||E instanceof P?E.value&&l.push(Ot(E.id,E.value)):E instanceof bt&&l.push(Ot(E.id,E.value))}return l}function Ot(s,l){return{id:s,value:l}}var Ut,It=function(s){var l=s;return"string"==typeof l&&(l=JSON.parse(l)),l};!function(s){s.READ="read",s.EDIT="edit"}(Ut||(Ut={}));var Vt,Yt,xt=function(s,l){this.selector=s.selector,this.config=s.config||{},this.container=l},Wt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Qt=["January","February","March","April","May","June","July","August","September","October","November","December"];!function(s){s[s.Previous=0]="Previous",s[s.Next=1]="Next"}(Vt||(Vt={})),function(s){s[s.NextDay=1]="NextDay",s[s.PreviousDay=-1]="PreviousDay",s[s.NextWeek=7]="NextWeek",s[s.PreviousWeek=-7]="PreviousWeek",s[s.Today=0]="Today"}(Yt||(Yt={}));var Kt=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),Xt=function(s){function e(l,_){var w=s.call(this,l,_)||this;return w.isOpen=!1,w.buttonText=w.config.buttonText||null,w.startDate=w.config.startDate?new Date(w.config.startDate.setHours(0,0,0,0)):null,w.selectedDate=w.config.initialDate?new Date(w.config.initialDate.setHours(0,0,0,0)):null,w.endDate=w.config.endDate?new Date(w.config.endDate.setHours(0,0,0,0)):null,w.showYear=w.config.showYear||!1,w.showToday=w.config.showToday||!0,w.disableToggle=w.config.disableToggle||!1,w.disableButton=w.config.disableButton||!1,w.disableInput=w.config.disableInput||!1,w.selectByWeek=w.config.selectByWeek||!1,w.disablePastDates=w.config.disablePastDates||!1,w.today=(new Date).setHours(0,0,0,0),w.days=Wt.slice(),w.months=Qt,w.days.push(w.days.shift()),w.classes={inactiveDate:"date-picker__inactive-date",selectableDate:"date-picker__selectable-date",dateHighlighted:"date-picker__date-highlighted",dateSelected:"date-picker__date-selected",hidden:"hidden",container:"date-picker__container",button:"date-picker__button--toggle",row:"date-picker__table-row",controls:"date-picker__controls",nonToggle:"date-picker__non-toggle",highlightWeek:"date-picker__highlight-week",today:"date-picker__today"},w.init(),w}return Kt(e,s),e.prototype.init=function(){this.cacheElements(),this.cacheTemplates(),this.initialiseElements(),this.bindEvents()},e.prototype.cacheElements=function(){this.input=this.container.querySelector("input"),this.button=this.container.querySelector("."+this.classes.button),this.controls=this.container.querySelector("."+this.classes.controls),this.datePickerContainer=document.createElement("div")},e.prototype.cacheTemplates=function(){this.leftCaretTpl='\n      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" focusable="false" width="11" height="28" viewBox="0 0 11 28" class="date-picker__button-caret">\n        <title>Previous</title>\n        <path d="M10 7v14c0 0.547-0.453 1-1 1-0.266 0-0.516-0.109-0.703-0.297l-7-7c-0.187-0.187-0.297-0.438-0.297-0.703s0.109-0.516 0.297-0.703l7-7c0.187-0.187 0.438-0.297 0.703-0.297 0.547 0 1 0.453 1 1z"></path>\n      </svg>',this.rightCaretTpl='\n      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" focusable="false" width="11" height="28" viewBox="0 0 11 28" class="date-picker__button-caret">\n        <title>Next</title>\n        <path d="M9 14c0 0.266-0.109 0.516-0.297 0.703l-7 7c-0.187 0.187-0.438 0.297-0.703 0.297-0.547 0-1-0.453-1-1v-14c0-0.547 0.453-1 1-1 0.266 0 0.516 0.109 0.703 0.297l7 7c0.187 0.187 0.297 0.438 0.297 0.703z"></path>\n      </svg>',this.yearSectionTpl='\n      <div class="date-picker__container--title">\n        <button type="button" class="previous year date-picker__button--arrow" title="Previous Year" aria-label="Previous Year">\n          '+this.leftCaretTpl+'\n        </button>\n        <div title="Press Escape to cancel" class="date-picker__title" role="presentation">\n          <span><strong>{currentYear}</strong></span>\n        </div>\n        <button type="button" class="next year date-picker__button--arrow"  title="Next Year" aria-label="Next Year">\n          '+this.rightCaretTpl+"\n        </button>\n      </div>",this.monthSectionTpl='\n      <div class="date-picker__container--title">\n        <button type="button" class="previous month date-picker__button--arrow {previousButtonClasses}"  title="Previous Month" aria-label="Previous Month"\n        {previousButtonAttributes}>\n          '+this.leftCaretTpl+'\n        </button>\n        <div class="month date-picker__title" role="presentation">\n          <span><strong>{monthLabel}</strong></span>\n        </div>\n        <button type="button" class="next month date-picker__button--arrow {nextButtonClasses}"  title="Next Month" aria-label="Next Month"\n          {nextButtonAttributes}>\n          '+this.rightCaretTpl+"\n        </button>\n      </div>",this.calendarTableTpl='\n      <table role="application" class="date-picker__table" aria-label="Calendar" summary="Calendar Date Picker">\n        <tr>\n          <th scope="col" class="date-picker__cell" title="Monday" role="presentation">\n            <span>M</span>\n          </th>\n          <th scope="col" class="date-picker__cell" title="Tuesday" role="presentation">\n            <span>T</span>\n          </th>\n          <th scope="col" class="date-picker__cell" title="Wednesday" role="presentation">\n            <span>W</span>\n          </th>\n          <th scope="col" class="date-picker__cell" title="Thursday" role="presentation">\n            <span>T</span>\n          </th>\n          <th scope="col" class="date-picker__cell" title="Friday" role="presentation">\n            <span>F</span>\n          </th>\n          <th scope="col" class="date-picker__cell" title="Saturday" role="presentation">\n            <span>S</span>\n          </th>\n          <th scope="col" class="date-picker__cell" title="Sunday" role="presentation">\n            <span>S</span>\n          </th>\n        </tr>\n      </table>',this.tableRowTpl='\n      <tr class="'+this.classes.row+' {classes}"></tr>',this.tableInactiveCellTpl='\n      <td class="date-picker__cell '+this.classes.inactiveDate+'">\n        <span tabindex="-1" aria-hidden="true">{content}</span>\n      </td>',this.tableActiveCellTpl='\n      <td data-day="{day}" class="date-picker__cell '+this.classes.selectableDate+' {classes} {today}">\n        <button tabindex="{tabindex}" type="button" class="date-picker__link" aria-label="{ariaLabel}">{content}</button>\n      </td>'},e.prototype.initialiseElements=function(){if(this.datePickerContainer.classList.add(this.classes.container),this.datePickerContainer.classList.toggle(this.classes.hidden,!this.disableToggle),this.datePickerContainer.setAttribute("role","dialog"),this.container.appendChild(this.datePickerContainer),this.disableToggle){var s=this.getDateValue();this.isOpen=!0,this.datePickerContainer.classList.add(this.classes.nonToggle),this.createDatePicker(s),this.setHighlightedElement()}else this.controls.classList.remove(this.classes.hidden);this.disableButton?this.button.classList.add(this.classes.hidden):this.buttonText&&(this.button.innerHTML=this.buttonText),this.disableInput&&this.input.classList.add(this.classes.hidden)},e.prototype.bindEvents=function(){document.addEventListener("click",this.handleDocumentClick.bind(this)),this.controls.addEventListener("click",this.handleControlsClick.bind(this)),m(this.datePickerContainer,"click",".year",this.handleYearClick.bind(this)),m(this.datePickerContainer,"click",".month",this.handleMonthClick.bind(this)),m(this.datePickerContainer,"click","."+this.classes.selectableDate,this.handleDayClick.bind(this)),this.datePickerContainer.addEventListener("keydown",this.handleKeyPress.bind(this))},e.prototype.handleYearClick=function(s){var l=s.subjectTarget;s.stopPropagation(),l.classList.contains("next")?this.changeYear(Vt.Next):l.classList.contains("previous")&&this.changeYear(Vt.Previous)},e.prototype.handleMonthClick=function(s){var l=s.subjectTarget;s.stopPropagation(),l.classList.contains("next")&&!l.disabled?this.changeMonth(Vt.Next):l.classList.contains("previous")&&!l.disabled&&this.changeMonth(Vt.Previous)},e.prototype.handleDayClick=function(s){this.selectDate(s.subjectTarget)},e.prototype.handleControlsClick=function(s){s.preventDefault(),this.toggleDatePicker()},e.prototype.handleDocumentClick=function(s){var l=s.target;this.container.contains(l)||this.toggleDatePicker(!1)},e.prototype.handleKeyPress=function(s){"ArrowLeft"===s.key||37===s.keyCode?(s.preventDefault(),this.moveFocus(Yt.PreviousDay)):"ArrowRight"===s.key||39===s.keyCode?(s.preventDefault(),this.moveFocus(Yt.NextDay)):"ArrowUp"===s.key||38===s.keyCode?(s.preventDefault(),this.moveFocus(Yt.PreviousWeek)):"ArrowDown"===s.key||40===s.keyCode?(s.preventDefault(),this.moveFocus(Yt.NextWeek)):"Enter"===s.key||13===s.keyCode||32===s.keyCode?(s.preventDefault(),this.handleEnter(s.target)):"Tab"===s.key||9===s.keyCode?(this.focusableElements=this.getAllFocusableElements(this.datePickerContainer),this.handleTab(s)):"Escape"!==s.key&&27!==s.keyCode||this.toggleDatePicker(!1)},e.prototype.createDatePicker=function(s){this.cachedDate=this.cloneDate(s),this.currentMonth=s.getMonth(),this.currentYear=s.getFullYear();var l=new Date(new Date(this.currentYear,this.currentMonth+1,0).setHours(0,0,0,0)),_=this.endDate&&this.endDate<=l,w=this.startDate&&this.disablePastDates&&this.startDate.getMonth()===this.currentMonth&&this.startDate.getFullYear()===this.currentYear,E=k(this.calendarTableTpl),T=O(this.monthSectionTpl,{monthLabel:this.months[this.currentMonth]+" "+(this.showYear?"":this.currentYear),nextButtonClasses:_?"date-picker__button--disabled":"",nextButtonAttributes:_?'disabled="disabled"':"",previousButtonClasses:w?"date-picker__button--disabled":"",previousButtonAttributes:w?'disabled="disabled" tabIndex="-1"':""});if(this.clearCalendar(),this.showYear){var B=O(this.yearSectionTpl,{currentYear:this.currentYear});this.datePickerContainer.appendChild(B)}this.populateCalendar(E),this.datePickerContainer.appendChild(T),this.datePickerContainer.appendChild(E),this.focusableElements=this.getAllFocusableElements(this.datePickerContainer)},e.prototype.populateCalendar=function(s){for(var l=new Date(this.currentYear,this.currentMonth,1),_=new Date(this.currentYear,this.currentMonth+1,0).getDate(),w=new Date(this.currentYear,this.currentMonth,0).getDate(),E=0===l.getDay()?6:l.getDay()-1,T=28===_&&0===E,B=1,x=1,C=0;C<6;C++){for(var A=O(this.tableRowTpl,{classes:this.selectByWeek?this.classes.highlightWeek:""}),P=0;P<7;P++){var N=void 0,q=new Date(this.currentYear,this.currentMonth,B),L=this.selectedDate.getTime()===new Date(this.currentYear,this.currentMonth,B).getTime(),M=this.today===q.getTime();0===C&&T?N=O(this.tableInactiveCellTpl,{content:w-E+P-6}):0===C&&P<E?N=O(this.tableInactiveCellTpl,{content:w-E+P+1}):B<=_&&(this.endDate||this.startDate)?(this.startDate&&this.endDate?N=this.startDate&&q>=this.startDate&&this.endDate&&q<=this.endDate?this.createActiveCell(B,L,M,P,this.days,this.months,this.currentMonth,this.currentYear):this.createInactiveCell(B):this.startDate&&!this.endDate?N=this.startDate&&q>=this.startDate?this.createActiveCell(B,L,M,P,this.days,this.months,this.currentMonth,this.currentYear):this.createInactiveCell(B):this.endDate&&!this.startDate&&(N=this.endDate&&q<=this.endDate?this.createActiveCell(B,L,M,P,this.days,this.months,this.currentMonth,this.currentYear):this.createInactiveCell(B)),B++):B<=_&&!this.endDate&&!this.startDate?(N=this.createActiveCell(B,L,M,P,this.days,this.months,this.currentMonth,this.currentYear),B++):(N=O(this.tableInactiveCellTpl,{content:x}),x++),A.appendChild(N)}s.appendChild(A)}},e.prototype.createInactiveCell=function(s){return O(this.tableInactiveCellTpl,{content:s})},e.prototype.createActiveCell=function(s,l,_,w,E,T,B,x){return O(this.tableActiveCellTpl,{day:s,classes:l?this.classes.dateSelected:"",tabindex:l?0:-1,ariaLabel:s+", "+E[w]+" "+T[B]+" "+x,content:s+(l?'<span class="hidden">Selected Date</span>':""),today:this.showToday&&_?this.classes.today:""})},e.prototype.selectDate=function(s){if(this.selectedDate=new Date(this.currentYear,this.currentMonth,parseInt(s.dataset.day)),s.classList.contains(this.classes.selectableDate)){var l;if(this.container.querySelector("."+this.classes.dateSelected)&&((l=this.container.querySelector("."+this.classes.dateSelected)).classList.remove(this.classes.dateSelected),l.children[0].tabIndex=-1),this.container.querySelector("."+this.classes.dateHighlighted)&&((l=this.container.querySelector("."+this.classes.dateHighlighted)).classList.remove(this.classes.dateHighlighted),l.children[0].tabIndex=-1),this.disableButton){var _="a"===s.tagName.toLowerCase()?s:s.children[0];this.setFocus(_)}else this.toggleDatePicker();s.classList.add(this.classes.dateSelected,this.classes.dateHighlighted),s.tabIndex=0,this.cachedDate=this.selectedDate,this.input.value=this.selectedDate.toString(),this.config.callback(this.selectedDate)}},e.prototype.deselectDate=function(s){s&&s.children.length>0&&(s.children[0].tabIndex=-1,s.classList.remove(this.classes.dateHighlighted))},e.prototype.toggleDatePicker=function(s){if(!this.disableToggle)if(!this.isOpen||void 0!==s&&!1!==s){if(!this.isOpen&&(void 0===s||!0===s)){this.config.onOpen&&this.config.onOpen();var l=this.getDateValue();this.createDatePicker(l),this.datePickerContainer.classList.remove(this.classes.hidden),this.setHighlightedElement(),this.container.querySelector("."+this.classes.dateHighlighted)&&this.setFocus(this.container.querySelector("."+this.classes.dateHighlighted).children[0]),this.isOpen=!0}}else this.config.onClose&&this.config.onClose(),this.datePickerContainer.classList.add(this.classes.hidden),this.setFocus(this.button),this.isOpen=!1},e.prototype.changeMonth=function(s){var l;if(s===Vt.Next)l=new Date(this.cachedDate.getFullYear(),this.cachedDate.getMonth()+1,1);else{var _=this.cachedDate.getMonth()-1,w=this.cachedDate.getFullYear();l=this.startDate&&w===this.startDate.getFullYear()&&_===this.startDate.getMonth()?this.startDate:new Date(w,_,1)}this.createDatePicker(l);var E=s===Vt.Next?"next month":"previous month";this.setFocus(this.container.getElementsByClassName(E)[0]),this.setHighlightedElement()},e.prototype.changeYear=function(s){var l;l=s===Vt.Next?new Date(this.cachedDate.getFullYear()+1,this.cachedDate.getMonth(),1):new Date(this.cachedDate.getFullYear()-1,this.cachedDate.getMonth(),1),this.createDatePicker(l);var _=s===Vt.Next?"next year":"previous year";this.setFocus(this.container.getElementsByClassName(_)[0]),this.setHighlightedElement()},e.prototype.getDateValue=function(){var s;if(this.input.value.length){var l=new Date(this.input.value);if(!isNaN(l.getTime()))return l;this.input.value=""}else if(this.selectedDate)return this.cloneDate(this.selectedDate);return(s=new Date).setHours(0,0,0,0),this.selectedDate=s,s},e.prototype.setHighlightedElement=function(){if(!this.container.querySelector("."+this.classes.dateHighlighted)){var s=this.container.querySelector("."+this.classes.dateSelected);if(s)s.classList.add(this.classes.dateHighlighted);else{var l=this.container.querySelector("."+this.classes.selectableDate);l.classList.add(this.classes.dateHighlighted),l.children[0].tabIndex=-1}}},e.prototype.moveFocus=function(s){var l,_,w=this.container.querySelector("."+this.classes.dateHighlighted),E=this.cachedDate.getMonth(),T=this.cachedDate.getFullYear(),B=this.cloneDate(this.cachedDate);B.setDate(B.getDate()+s),l=this.datePickerContainer.querySelector('[data-day="'+B.getDate()+'"]'),E===B.getMonth()&&T===B.getFullYear()||((this.endDate&&B<=this.endDate||!this.endDate)&&(this.startDate&&B>=this.startDate||!this.startDate)?(this.createDatePicker(B),l=this.datePickerContainer.querySelector('[data-day="'+B.getDate()+'"]')):l=null),l&&l.classList.contains(this.classes.selectableDate)&&(this.cachedDate=B,this.deselectDate(w),l.classList.add(this.classes.dateHighlighted),l.children.length>0&&((_=l.children[0]).tabIndex=0,this.setFocus(_)))},e.prototype.handleEnter=function(s){if(S(s,"month")){var l=S(s,"next")?Vt.Next:Vt.Previous;this.changeMonth(l)}else S(s,"year")?(l=S(s,"next")?Vt.Next:Vt.Previous,this.changeYear(l)):S(s,this.classes.selectableDate)?this.selectDate(s.parentElement):this.toggleDatePicker()},e.prototype.handleTab=function(s){var l=s.target,_=s.shiftKey;this.disableToggle||(_?0===this.focusableElements.indexOf(l)&&(s.preventDefault(),this.focusLastDescendant()):(this.focusableElements.indexOf(l)===this.focusableElements.length-1||1===this.focusableElements.length)&&(s.preventDefault(),this.focusFirstDescendant()))},e.prototype.setFocus=function(s){s&&!s.disabled?s.focus():this.focusFirstDescendant()},e.prototype.weeksInMonth=function(s,l){return Math.ceil((s+l)/7)},e.prototype.cloneDate=function(s){return new Date(s.getTime())},e.prototype.clearCalendar=function(){this.datePickerContainer.innerHTML=""},e.prototype.getAllFocusableElements=function(s){return Array.from(s.querySelectorAll('button:not([tabindex="-1"]), [href]:not([tabindex="-1"]), input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])'))},e.prototype.focusFirstDescendant=function(){this.focusableElements[0].focus()},e.prototype.focusLastDescendant=function(){var s=this.focusableElements.length-1;this.focusableElements[s].focus()},e.prototype.selectDateExternally=function(s,l,_){var w=new Date(_,l,s);this.input.value=w.toString(),this.selectedDate=w},e.prototype.unsetDate=function(){this.input.value="",this.selectedDate=null},e}(xt),zt=function(){var t=function(s,l){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var _ in l)l.hasOwnProperty(_)&&(s[_]=l[_])})(s,l)};return function(s,l){function i(){this.constructor=s}t(s,l),s.prototype=null===l?Object.create(l):(i.prototype=l.prototype,new i)}}(),Gt=function(s){function e(l,_){var w=s.call(this,l,_)||this;return w.init(),w}return zt(e,s),e.prototype.init=function(){this.cacheElements(),this.bindEvents(),this.datePickerContainer&&this.instantiateDatePicker()},e.prototype.cacheElements=function(){this.day=this.container.querySelector(".day"),this.month=this.container.querySelector(".month"),this.year=this.container.querySelector(".year"),this.datePickerContainer=this.container.querySelector(".date-picker__text-date")},e.prototype.bindEvents=function(){},e.prototype.instantiateDatePicker=function(){this.datePicker=new Xt({selector:".date-picker__text-date",config:{showYear:!0,initialDate:this.currentDate,endDate:this.lastNavigableDay,disableToggle:!1,disableButton:!1,disableInput:!0,selectByWeek:!1,callback:this.handleDatePickerClick.bind(this),onOpen:this.setSelectedDate.bind(this)}},this.datePickerContainer)},e.prototype.handleDatePickerClick=function(s){var l=new Date(s),_=l.getDate(),w=l.getMonth()+1,E=l.getFullYear();this.day.value=_<10?"0"+_:_.toString(),this.month.value=w<10?"0"+w:w.toString(),this.year.value=E.toString()},e.prototype.setSelectedDate=function(){var s,l,_,w,E,T,B;s=this.day.value,l=this.month.value,_=this.year.value,w=parseInt(s),E=parseInt(l),T=parseInt(_),B=new Date,isNaN(w)||isNaN(E)||isNaN(T)||w>31||w<1||(4==E||6==E||9==E||11==E)&&31==w||2==E&&(w>29||29==w&&(T%4!=0||T%100==0&&T%400!=0))||E>12||E<1||T<1900||T>B.getFullYear()+100||this.datePicker.selectDateExternally(parseInt(this.day.value),parseInt(this.month.value)-1,parseInt(this.year.value))},e}(xt),Jt=function(){function t(){this.addMoreBlockViewFactory=new gt}return t.prototype.createView=function(s){for(var l=s.digimanId,_=s.id,w=s.decisionBlock,T=s.contentBlocks,B=k('<div class="question-section" id="'+l+"__"+_+'" data-current-state="'+_+'" data-next-state="'+w.nextSection+'" data-selected-option-id="'+w.selectedOptionId+'"></div>'),x=0,C=T;x<C.length;x++){var A=C[x];A.type===E.ADD_MORE?B.append(this.addMoreBlockViewFactory.createView(A)):B.append($(A))}return w&&B.append($(w)),B},t}(),$t=function(){function t(s){this.START_STATE="qb-start-id",this.questionSections=[],this.state=[],this.QUESTION_BLOCK_DATA=[],this.statusCallInProgress=!1,this.completionQuery="?postCompletionState=true",this._hasIntroductionHeading=!1,this.questionSectionViewFactory=new Jt,this.container=s,this.IS_READ_ONLY="true"===this.container.dataset.readOnly,this.IS_LOAD_ON_CLICK="true"===this.container.dataset.loadOnClick,this.AUTO_SAVE_ON_COMPLETION="true"===this.container.dataset.autoSaveOnCompletion,this.STATE_ENDPOINT=this.container.dataset.stateEndpoint,this.POST_STATE_ENDPOINT=this.container.dataset.postStateEndpoint,this.GENERAL_ERROR=this.container.dataset.generalError,this.csrfToken=this.container.querySelector('[name="csrfToken"]'),this.spinner=this.container.querySelector(".spinner__template")?k(this.container.querySelector(".spinner__template").innerHTML):null,this.debouncedSendState=function(s,l,_){var w=this;void 0===_&&(_=!1);var E=null;return function(){for(var l=[],T=0;T<arguments.length;T++)l[T]=arguments[T];var B=_&&!E,a=function(){return s.apply(w,l)};clearTimeout(E),E=setTimeout(a,300),B&&a()}}(this.sendState.bind(this,this.postCompletionQuery)),this.IS_LOAD_ON_CLICK?this.bindLoadEvents():this.init()}return Object.defineProperty(t.prototype,"postCompletionQuery",{get:function(){return this.AUTO_SAVE_ON_COMPLETION_ENABLED?this.completionQuery:""},enumerable:!0,configurable:!0}),t.prototype.init=function(){if(function(){var s=!1;if(window.digimanStub&&window.digimanStub.length>0){window.digimanStub=It(window.digimanStub);for(var l=0;l<window.digimanStub.length;l++)window.digimanStub[l].definition=It(window.digimanStub[l].definition),window.digimanStub[l].state=It(window.digimanStub[l].state);s=!0}return s}()){var s,l,_=window.digimanStub[0];s=_.definition,l=_.state,function(s){window.digimanStub=window.digimanStub.filter((function(l){return l.type!==s}))}(_.type),this.loadDataFromWindow(l,s)}else this.STATE_ENDPOINT&&this.STATE_ENDPOINT.length>0&&(this.fetchState(),this.IS_READ_ONLY||this.bindEvents())},t.prototype.createUniqueId=function(){var s=this.IS_READ_ONLY?Ut.READ:Ut.EDIT;return this.json_meta.definitionType+"-"+this.json_meta.definitionVersion+"-"+s},t.prototype.loadDataFromWindow=function(s,l){this.json_meta={definitionType:s.definitionType,definitionVersion:s.definitionVersion,agentTodoId:s.agentTodoId},this.container.id=this.createUniqueId(),this.QUESTION_BLOCK_DATA=s.questionBlockData,this.handleModelSuccessResponse(l),this.bindEvents()},t.prototype.createQuestionSection=function(s){s.readOnly=this.IS_READ_ONLY,s.hasIntroductionHeading=this._hasIntroductionHeading,this.questionSections.push(new Ht(s))},t.prototype.hasIntroductionHeading=function(s){var l=this,_=s.find((function(s){return s.id===l.START_STATE}));_.contents&&_.contents[0]&&_.contents[0].type===E.HEADING&&(this._hasIntroductionHeading=!0)},t.prototype.buildQuestionSections=function(s){for(var l=0;l<s.length;l++)s[l].digimanId=this.container.id,this.createQuestionSection(s[l])},t.prototype.renderQuestionSections=function(s){var l=this;if(s&&0!==s.length){if(s&&s.length>0){var _=s.find((function(s){return s.questionBlockId===l.START_STATE}));this.renderQuestionSection(_,s)}}else{var w=this.questionSectionViewFactory.createView(this.getQuestionSectionById(this.START_STATE));this.renderSection(w)}},t.prototype.renderQuestionSection=function(s,l){var _=s.questionBlockId,w=s.answerId,E=s.optionId,T=E?w+"-"+E:""+w,B=this.getQuestionSectionById(_);B.decisionBlock.setState(T,!0),s.data&&this.updateFormChoices(B,s.data);var x=this.questionSectionViewFactory.createView(B);this.renderSection(x);var C=this.getNextSection(w,l);if(C)this.renderQuestionSection(C,this.removeSectionItem(_,l));else if(w!==yt.DONE){var A=this.questionSectionViewFactory.createView(this.getQuestionSectionById(w));this.renderSection(A)}else w===yt.DONE&&this.AUTO_SAVE_ON_COMPLETION&&(this.AUTO_SAVE_ON_COMPLETION_ENABLED=!0)},t.prototype.getNextSection=function(s,l){return l.find((function(l){return l.questionBlockId===s}))},t.prototype.removeSectionItem=function(s,l){return l.filter((function(l){return l.questionBlockId!==s}))},t.prototype.loadDigiman=function(){this.DEFINITION_ENDPOINT||this.init()},t.prototype.bindEvents=function(){m(this.container,"click",'input[type="radio"].digiman__radio--decision-block, input[type="checkbox"].digiman__checkbox--decision-block',this.handleDecisionClick.bind(this)),m(this.container,"click",'input[type="radio"].digiman__radio--content-block, input[type="checkbox"].digiman__checkbox--content-block',this.handleClick.bind(this)),m(this.container,"change","select.digiman__select",this.handleChange.bind(this)),m(this.container,"blur",'textarea, input[type="text"], input[type="tel"]',this.handleBlur.bind(this),{useCapture:!0}),m(this.container,"click",".date-picker__link",this.handleDatePickerClick.bind(this)),m(this.container,"input",'input[type="tel"]',this.handleNumericInput.bind(this)),this.AUTO_SAVE_ON_COMPLETION&&m(document.querySelector("body"),"submit","form",this.handleFormSubmit.bind(this))},t.prototype.bindLoadEvents=function(){m(document.querySelector("body"),"click","#digiman-loader .expand-help__button",this.loadDigiman.bind(this))},t.prototype.handleNumericInput=function(s){var l=new RegExp("[^0-9.]","g"),_=s.target,w=_.selectionStart-1,E=_.value;l.test(E)&&(_.value=E.replace(l,""),_.setSelectionRange(w,w))},t.prototype.handleDatePickerClick=function(s){var l=s.target,_=S(l,"question-section"),w=S(l,"govuk-date-input").dataset.id;if(_&&_.dataset.currentState){var E=this.getQuestionSectionById(_.dataset.currentState).getContentBlockById(w),T=E.value,B=this.container.querySelector("#id-section-"+w+" .day"),x=this.container.querySelector("#id-section-"+w+" .month"),C=this.container.querySelector("#id-section-"+w+" .year");E.day=B.value,E.month=x.value,E.year=C.value,E.updateValue(),this.AUTO_SAVE_ON_COMPLETION_ENABLED&&E.value!==T&&(this.state=kt(this.questionSections),this.debouncedSendState(this.postCompletionQuery))}},t.prototype.handleBlur=function(s){var l=s.target,_=S(l,"question-section");if(_&&_.dataset.currentState){var w=null,E=this.findFormBlock(_.dataset.currentState,l.name),T=E instanceof q?E.getDateBlockState(l.dataset.type):E.value;E instanceof bt&&(w=l.id),T!==l.value&&(this.updateFormBlockState(E,l.value,l.dataset.type,l.checked,w),this.saveState())}},t.prototype.findFormBlock=function(s,l){return this.getQuestionSectionById(s).getContentBlockById(l)},t.prototype.saveState=function(){this.AUTO_SAVE_ON_COMPLETION_ENABLED&&(this.statusCallInProgress=!0,this.state=kt(this.questionSections),this.debouncedSendState(this.postCompletionQuery))},t.prototype.isSameFlow=function(s){var l=s.oldNextStateId===s.newNextStateId;return s.oldOptionId&&l&&(l=s.newOptionId===s.oldOptionId),l},t.prototype.handleChange=function(s){var l=s.target,_=S(l,"question-section"),w=this.getQuestionSectionById(_.dataset.currentState).getContentBlockById(l.name);this.updateFormBlockState(w,l.value,l.dataset.type,!0,null),this.saveState()},t.prototype.handleDecisionClick=function(s){var l=s.target,_=S(l,"question-section"),w=l.dataset.nextSectionId,E=l.dataset.optionId,T=_.dataset.nextState,B=_.dataset.selectedOptionId,x=w===yt.DONE,C=this.isSameFlow({newNextStateId:w,oldNextStateId:T,newOptionId:E,oldOptionId:B});("checkbox"===l.type||"radio"===l.type&&!C)&&(this.handleDecisionBlockClick({newNextStateId:w,oldNextStateId:T,qsNode:_,isChecked:l.checked,optionId:E}),document.body.dispatchEvent(new CustomEvent("digiman-decision-block-click")),this.removeErrorsFromHiddenDecisionBlocks(),this.AUTO_SAVE_ON_COMPLETION&&x?this.AUTO_SAVE_ON_COMPLETION_ENABLED=l.checked:this.AUTO_SAVE_ON_COMPLETION&&!x&&(this.AUTO_SAVE_ON_COMPLETION_ENABLED=!1))},t.prototype.removeErrorsFromHiddenDecisionBlocks=function(){this.questionSections.forEach((function(s){s.decisionBlock}))},t.prototype.handleClick=function(s){var l=s.target,_=S(l,"question-section"),w=this.getQuestionSectionById(_.dataset.currentState).getContentBlockById(l.name);if(w.type===E.CHECKBOX)this.updateFormBlockState(w,l.value,l.dataset.type,l.checked,null),this.saveState();else if(w.type===E.RADIO){var T=w.options.find((function(s){return s.selected}));void 0!==T&&T.value===l.value||(this.updateFormBlockState(w,l.value,l.dataset.type,l.checked,null),this.saveState())}},t.prototype.handleDecisionBlockClick=function(s){s.oldNextStateId&&s.oldNextStateId.trim().length>0&&this.resetStateTree(s.qsNode.dataset.currentState),this.setNextState(s.qsNode,s.newNextStateId,s.isChecked,s.optionId),this.state=kt(this.questionSections),this.debouncedSendState(this.postCompletionQuery)},t.prototype.setNextState=function(s,l,_,w){var E=w?l+"-"+w:""+l;if(this.getQuestionSectionById(s.dataset.currentState).decisionBlock.setState(E,_),_){if(s.setAttribute("data-next-state",l),w&&s.setAttribute("data-selected-option-id",w),l!==yt.DONE&&l&&l.trim().length>0){var T=this.questionSectionViewFactory.createView(this.getQuestionSectionById(l));this.renderSection(T)}}else s.setAttribute("data-next-state","")},t.prototype.resetStateTree=function(s){for(var l,_,w=this.getQuestionSectionById(s);w;)l=w.decisionBlock.nextSection,s!==w.id&&w.resetAllFormBlocksState(),(_=this.container.querySelector('[data-current-state="'+l+'"]'))&&this.removeSection(_),w=this.getQuestionSectionById(l)},t.prototype.getQuestionSectionById=function(s){return this.questionSections.find((function(l){return l.id===s}))},t.prototype.updateFormChoices=function(s,l){var _=this;l.forEach((function(l){var w=s.getContentBlockById(l.id);_.updateFormBlockState(w,l.value,null,!0,null)}))},t.prototype.updateFormBlockState=function(s,l,_,w,E){s instanceof q?s.setState(l,_):s instanceof P?s.setState(l):s instanceof bt?E?s.setChildState(l,E):s.setState(l):s instanceof wt?s.setState(l):s.setState(l,w)},t.prototype.renderSection=function(s){this.container.append(s),this.initialiseDatePicker(s)},t.prototype.initialiseDatePicker=function(s){var l=s.querySelectorAll(".govuk-date-input");if(l&&l.length>0)for(var _=0;_<l.length;_++)new Gt({selector:".govuk-date-input",config:{}},l[_])},t.prototype.removeSection=function(s){this.container.removeChild(s)},t.prototype.fetchModel=function(){var s=this;Ft.fetchData({contentType:"application/json",csrfToken:this.csrfToken.value,type:"GET",url:this.DEFINITION_ENDPOINT}).then((function(l){if(l.status<=308)return l.json();s.handleError()})).then((function(l){s.handleModelSuccessResponse(l)})).catch((function(l){window.console.log(l),s.handleError()}))},t.prototype.fetchState=function(){var s=this;this.showLoadState(),Ft.fetchData({contentType:"application/json",csrfToken:this.csrfToken.value,type:"GET",url:this.STATE_ENDPOINT}).then((function(l){if(l.status<=308)return l.json();s.handleError()})).then((function(l){s.handleStateSuccessResponse(l)})).catch((function(l){window.console.log(l),s.handleError()}))},t.prototype.sendState=function(s,l){var _=this,w=l.slice(0),E={definitionType:this.json_meta.definitionType,definitionVersion:this.json_meta.definitionVersion,agentTodoId:this.json_meta.agentTodoId,questionBlockData:this.state};Ft.fetchData({type:"POST",url:this.POST_STATE_ENDPOINT+w,body:JSON.stringify(E),csrfToken:this.csrfToken.value,contentType:"application/json",acceptHeader:"*/*"}).then((function(){_.statusCallInProgress=!1,_.AUTO_SAVE_ON_COMPLETION_ENABLED&&_.formElement&&_.formElement.submit(),_.state.find((function(s){return"done"===s.answerId}))?_.container.classList.add("digiman--completed"):_.container.classList.remove("digiman--completed")}))},t.prototype.handleFormSubmit=function(s){this.AUTO_SAVE_ON_COMPLETION_ENABLED&&this.statusCallInProgress&&(s.preventDefault(),this.formElement=s.target)},t.prototype.handleModelSuccessResponse=function(s){s?(this.container.setAttribute("aria-busy","false"),this.hasIntroductionHeading(s.questionBlocks),this.buildQuestionSections(s.questionBlocks),this.clearContainer(),this.renderQuestionSections(this.QUESTION_BLOCK_DATA),this.state=kt(this.questionSections),this.state.find((function(s){return"done"===s.answerId}))&&this.container.classList.add("digiman--completed")):this.handleError()},t.prototype.handleStateSuccessResponse=function(s){s?(this.json_meta={definitionType:s.definitionType,definitionVersion:s.definitionVersion,agentTodoId:s.agentTodoId},this.container.id=this.createUniqueId(),this.DEFINITION_ENDPOINT="/digiman/definition/"+s.definitionType+"/"+s.definitionVersion,this.QUESTION_BLOCK_DATA=s.questionBlockData,this.fetchModel()):this.handleError()},t.prototype.handleError=function(){var s='<div class="alert alert--warning text">\n                               <p>'+this.GENERAL_ERROR+'</p>\n                               <div><input type="button" class="digiman__refresh-button link-style" value="Try again" /></div>\n                             </div>';this.errorNode=k(s),this.clearContainer(),this.container.classList.remove("panel"),this.container.setAttribute("aria-busy","false"),this.container.append(this.errorNode),this.container.querySelector(".digiman__refresh-button").addEventListener("click",this.reloadDigiman.bind(this))},t.prototype.reloadDigiman=function(){this.container.classList.add("panel"),this.errorNode.remove(),this.init()},t.prototype.showLoadState=function(){this.clearContainer(),this.spinner&&this.container.append(this.spinner),this.container.setAttribute("aria-busy","true")},t.prototype.clearContainer=function(){this.container.innerHTML=""},t}();_.d(l,"a",(function(){return Rt}));var Rt=function(){window.digiman=$t;var s=Array.from(document.querySelectorAll(".digiman"));s.length>0&&s.forEach((function(s){new $t(s)}))}},function(s,l){s.exports=function(s,l){if("string"!=typeof s)throw new TypeError("String expected");l||(l=document);var _=/<([\w:]+)/.exec(s);if(!_)return l.createTextNode(s);s=s.replace(/^\s+|\s+$/g,"");var w=_[1];if("body"==w)return(T=l.createElement("html")).innerHTML=s,T.removeChild(T.lastChild);var T,B=E[w]||E._default,x=B[0],C=B[1],A=B[2];for((T=l.createElement("div")).innerHTML=C+s+A;x--;)T=T.lastChild;if(T.firstChild==T.lastChild)return T.removeChild(T.firstChild);for(var P=l.createDocumentFragment();T.firstChild;)P.appendChild(T.removeChild(T.firstChild));return P};var _,w=!1;"undefined"!=typeof document&&((_=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',w=!_.getElementsByTagName("link").length,_=void 0);var E={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:w?[1,"X<div>","</div>"]:[0,"",""]};E.td=E.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],E.option=E.optgroup=[1,'<select multiple="multiple">',"</select>"],E.thead=E.tbody=E.colgroup=E.caption=E.tfoot=[1,"<table>","</table>"],E.polyline=E.ellipse=E.polygon=E.circle=E.text=E.line=E.path=E.rect=E.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},function(s,l,_){var w,E,T,B;B=function(s){var l=Object.prototype.toString,_=Array.isArray||function(s){return"[object Array]"===l.call(s)};function i(s){return"function"==typeof s}function o(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(s,l){return null!=s&&"object"==typeof s&&l in s}var w=RegExp.prototype.test,E=/\S/;function c(s){return!function(s,l){return w.call(s,l)}(E,s)}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},B=/\s*/,x=/\s+/,C=/\s*=/,A=/\s*\}/,P=/#|\^|\/|>|\{|&|=|!/;function y(s){this.string=s,this.tail=s,this.pos=0}function g(s,l){this.view=s,this.cache={".":this.view},this.parent=l}function v(){this.cache={}}y.prototype.eos=function(){return""===this.tail},y.prototype.scan=function(s){var l=this.tail.match(s);if(!l||0!==l.index)return"";var _=l[0];return this.tail=this.tail.substring(_.length),this.pos+=_.length,_},y.prototype.scanUntil=function(s){var l,_=this.tail.search(s);switch(_){case-1:l=this.tail,this.tail="";break;case 0:l="";break;default:l=this.tail.substring(0,_),this.tail=this.tail.substring(_)}return this.pos+=l.length,l},g.prototype.push=function(s){return new g(s,this)},g.prototype.lookup=function(s){var l,_,w,E=this.cache;if(E.hasOwnProperty(s))l=E[s];else{for(var T,B,x,C=this,A=!1;C;){if(s.indexOf(".")>0)for(T=C.view,B=s.split("."),x=0;null!=T&&x<B.length;)x===B.length-1&&(A=r(T,B[x])||(_=T,w=B[x],null!=_&&"object"!=typeof _&&_.hasOwnProperty&&_.hasOwnProperty(w))),T=T[B[x++]];else T=C.view[s],A=r(C.view,s);if(A){l=T;break}C=C.parent}E[s]=l}return i(l)&&(l=l.call(this.view)),l},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(l,w){var E=this.cache,T=l+":"+(w||s.tags).join(":"),N=E[T];return null==N&&(N=E[T]=function(l,w){if(!l)return[];var E,T,N,q=!1,L=[],M=[],j=[],R=!1,H=!1,F="",U=0;function S(){if(R&&!H)for(;j.length;)delete M[j.pop()];else j=[];R=!1,H=!1}function I(s){if("string"==typeof s&&(s=s.split(x,2)),!_(s)||2!==s.length)throw new Error("Invalid tags: "+s);E=new RegExp(o(s[0])+"\\s*"),T=new RegExp("\\s*"+o(s[1])),N=new RegExp("\\s*"+o("}"+s[1]))}I(w||s.tags);for(var V,Y,W,Q,K,X,z=new y(l);!z.eos();){if(V=z.pos,W=z.scanUntil(E))for(var G=0,J=W.length;G<J;++G)c(Q=W.charAt(G))?(j.push(M.length),F+=Q):(H=!0,q=!0,F+=" "),M.push(["text",Q,V,V+1]),V+=1,"\n"===Q&&(S(),F="",U=0,q=!1);if(!z.scan(E))break;if(R=!0,Y=z.scan(P)||"name",z.scan(B),"="===Y?(W=z.scanUntil(C),z.scan(C),z.scanUntil(T)):"{"===Y?(W=z.scanUntil(N),z.scan(A),z.scanUntil(T),Y="&"):W=z.scanUntil(T),!z.scan(T))throw new Error("Unclosed tag at "+z.pos);if(K=">"==Y?[Y,W,V,z.pos,F,U,q]:[Y,W,V,z.pos],U++,M.push(K),"#"===Y||"^"===Y)L.push(K);else if("/"===Y){if(!(X=L.pop()))throw new Error('Unopened section "'+W+'" at '+V);if(X[1]!==W)throw new Error('Unclosed section "'+X[1]+'" at '+V)}else"name"===Y||"{"===Y||"&"===Y?H=!0:"="===Y&&I(W)}if(S(),X=L.pop())throw new Error('Unclosed section "'+X[1]+'" at '+z.pos);return function(s){for(var l,_=[],w=_,E=[],T=0,B=s.length;T<B;++T)switch((l=s[T])[0]){case"#":case"^":w.push(l),E.push(l),w=l[4]=[];break;case"/":E.pop()[5]=l[2],w=E.length>0?E[E.length-1][4]:_;break;default:w.push(l)}return _}(function(s){for(var l,_,w=[],E=0,T=s.length;E<T;++E)(l=s[E])&&("text"===l[0]&&_&&"text"===_[0]?(_[1]+=l[1],_[3]=l[3]):(w.push(l),_=l));return w}(M))}(l,w)),N},v.prototype.render=function(s,l,_,w){var E=this.parse(s,w),T=l instanceof g?l:new g(l);return this.renderTokens(E,T,_,s,w)},v.prototype.renderTokens=function(s,l,_,w,E){for(var T,B,x,C="",A=0,P=s.length;A<P;++A)x=void 0,"#"===(B=(T=s[A])[0])?x=this.renderSection(T,l,_,w):"^"===B?x=this.renderInverted(T,l,_,w):">"===B?x=this.renderPartial(T,l,_,E):"&"===B?x=this.unescapedValue(T,l):"name"===B?x=this.escapedValue(T,l):"text"===B&&(x=this.rawValue(T)),void 0!==x&&(C+=x);return C},v.prototype.renderSection=function(s,l,w,E){var T=this,B="",x=l.lookup(s[1]);if(x){if(_(x))for(var C=0,A=x.length;C<A;++C)B+=this.renderTokens(s[4],l.push(x[C]),w,E);else if("object"==typeof x||"string"==typeof x||"number"==typeof x)B+=this.renderTokens(s[4],l.push(x),w,E);else if(i(x)){if("string"!=typeof E)throw new Error("Cannot use higher-order sections without the original template");null!=(x=x.call(l.view,E.slice(s[3],s[5]),(function(s){return T.render(s,l,w)})))&&(B+=x)}else B+=this.renderTokens(s[4],l,w,E);return B}},v.prototype.renderInverted=function(s,l,w,E){var T=l.lookup(s[1]);if(!T||_(T)&&0===T.length)return this.renderTokens(s[4],l,w,E)},v.prototype.indentPartial=function(s,l,_){for(var w=l.replace(/[^ \t]/g,""),E=s.split("\n"),T=0;T<E.length;T++)E[T].length&&(T>0||!_)&&(E[T]=w+E[T]);return E.join("\n")},v.prototype.renderPartial=function(s,l,_,w){if(_){var E=i(_)?_(s[1]):_[s[1]];if(null!=E){var T=s[6],B=s[5],x=s[4],C=E;return 0==B&&x&&(C=this.indentPartial(E,x,T)),this.renderTokens(this.parse(C,w),l,_,C)}}},v.prototype.unescapedValue=function(s,l){var _=l.lookup(s[1]);if(null!=_)return _},v.prototype.escapedValue=function(l,_){var w=_.lookup(l[1]);if(null!=w)return s.escape(w)},v.prototype.rawValue=function(s){return s[1]},s.name="mustache.js",s.version="3.1.0",s.tags=["{{","}}"];var N=new v;return s.clearCache=function(){return N.clearCache()},s.parse=function(s,l){return N.parse(s,l)},s.render=function(s,l,w,E){if("string"!=typeof s)throw new TypeError('Invalid template! Template should be a "string" but "'+(_(T=s)?"array":typeof T)+'" was given as the first argument for mustache#render(template, view, partials)');var T;return N.render(s,l,w,E)},s.to_html=function(l,_,w,E){var T=s.render(l,_,w);if(!i(E))return T;E(T)},s.escape=function(s){return String(s).replace(/[&<>"'`=\/]/g,(function(s){return T[s]}))},s.Scanner=y,s.Context=g,s.Writer=v,s},l&&"string"!=typeof l.nodeName?B(l):(E=[l],void 0===(T="function"==typeof(w=B)?w.apply(l,E):w)||(s.exports=T))},function(s,l,_){_(17),s.exports=self.fetch.bind(self)},function(s,l,_){"use strict";_.r(l),_.d(l,"Headers",(function(){return p})),_.d(l,"Request",(function(){return k})),_.d(l,"Response",(function(){return O})),_.d(l,"DOMException",(function(){return q})),_.d(l,"fetch",(function(){return D}));var w="URLSearchParams"in self,E="Symbol"in self&&"iterator"in Symbol,T="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(s){return!1}}(),B="FormData"in self,x="ArrayBuffer"in self;if(x)var C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],A=ArrayBuffer.isView||function(s){return s&&C.indexOf(Object.prototype.toString.call(s))>-1};function u(s){if("string"!=typeof s&&(s=String(s)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(s))throw new TypeError("Invalid character in header field name");return s.toLowerCase()}function d(s){return"string"!=typeof s&&(s=String(s)),s}function h(s){var l={next:function(){var l=s.shift();return{done:void 0===l,value:l}}};return E&&(l[Symbol.iterator]=function(){return l}),l}function p(s){this.map={},s instanceof p?s.forEach((function(s,l){this.append(l,s)}),this):Array.isArray(s)?s.forEach((function(s){this.append(s[0],s[1])}),this):s&&Object.getOwnPropertyNames(s).forEach((function(l){this.append(l,s[l])}),this)}function f(s){if(s.bodyUsed)return Promise.reject(new TypeError("Already read"));s.bodyUsed=!0}function y(s){return new Promise((function(l,_){s.onload=function(){l(s.result)},s.onerror=function(){_(s.error)}}))}function g(s){var l=new FileReader,_=y(l);return l.readAsArrayBuffer(s),_}function v(s){if(s.slice)return s.slice(0);var l=new Uint8Array(s.byteLength);return l.set(new Uint8Array(s)),l.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(s){var l;this._bodyInit=s,s?"string"==typeof s?this._bodyText=s:T&&Blob.prototype.isPrototypeOf(s)?this._bodyBlob=s:B&&FormData.prototype.isPrototypeOf(s)?this._bodyFormData=s:w&&URLSearchParams.prototype.isPrototypeOf(s)?this._bodyText=s.toString():x&&T&&(l=s)&&DataView.prototype.isPrototypeOf(l)?(this._bodyArrayBuffer=v(s.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):x&&(ArrayBuffer.prototype.isPrototypeOf(s)||A(s))?this._bodyArrayBuffer=v(s):this._bodyText=s=Object.prototype.toString.call(s):this._bodyText="",this.headers.get("content-type")||("string"==typeof s?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w&&URLSearchParams.prototype.isPrototypeOf(s)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},T&&(this.blob=function(){var s=f(this);if(s)return s;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var s,l,_,w=f(this);if(w)return w;if(this._bodyBlob)return s=this._bodyBlob,_=y(l=new FileReader),l.readAsText(s),_;if(this._bodyArrayBuffer)return Promise.resolve(function(s){for(var l=new Uint8Array(s),_=new Array(l.length),w=0;w<l.length;w++)_[w]=String.fromCharCode(l[w]);return _.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},B&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(s,l){s=u(s),l=d(l);var _=this.map[s];this.map[s]=_?_+", "+l:l},p.prototype.delete=function(s){delete this.map[u(s)]},p.prototype.get=function(s){return s=u(s),this.has(s)?this.map[s]:null},p.prototype.has=function(s){return this.map.hasOwnProperty(u(s))},p.prototype.set=function(s,l){this.map[u(s)]=d(l)},p.prototype.forEach=function(s,l){for(var _ in this.map)this.map.hasOwnProperty(_)&&s.call(l,this.map[_],_,this)},p.prototype.keys=function(){var s=[];return this.forEach((function(l,_){s.push(_)})),h(s)},p.prototype.values=function(){var s=[];return this.forEach((function(l){s.push(l)})),h(s)},p.prototype.entries=function(){var s=[];return this.forEach((function(l,_){s.push([_,l])})),h(s)},E&&(p.prototype[Symbol.iterator]=p.prototype.entries);var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(s,l){var _,w,E=(l=l||{}).body;if(s instanceof k){if(s.bodyUsed)throw new TypeError("Already read");this.url=s.url,this.credentials=s.credentials,l.headers||(this.headers=new p(s.headers)),this.method=s.method,this.mode=s.mode,this.signal=s.signal,E||null==s._bodyInit||(E=s._bodyInit,s.bodyUsed=!0)}else this.url=String(s);if(this.credentials=l.credentials||this.credentials||"same-origin",!l.headers&&this.headers||(this.headers=new p(l.headers)),this.method=(w=(_=l.method||this.method||"GET").toUpperCase(),P.indexOf(w)>-1?w:_),this.mode=l.mode||this.mode||null,this.signal=l.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&E)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(E)}function m(s){var l=new FormData;return s.trim().split("&").forEach((function(s){if(s){var _=s.split("="),w=_.shift().replace(/\+/g," "),E=_.join("=").replace(/\+/g," ");l.append(decodeURIComponent(w),decodeURIComponent(E))}})),l}function O(s,l){l||(l={}),this.type="default",this.status=void 0===l.status?200:l.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in l?l.statusText:"OK",this.headers=new p(l.headers),this.url=l.url||"",this._initBody(s)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},b.call(k.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},O.error=function(){var s=new O(null,{status:0,statusText:""});return s.type="error",s};var N=[301,302,303,307,308];O.redirect=function(s,l){if(-1===N.indexOf(l))throw new RangeError("Invalid status code");return new O(null,{status:l,headers:{location:s}})};var q=self.DOMException;try{new q}catch(s){(q=function(s,l){this.message=s,this.name=l;var _=Error(s);this.stack=_.stack}).prototype=Object.create(Error.prototype),q.prototype.constructor=q}function D(s,l){return new Promise((function(_,w){var E=new k(s,l);if(E.signal&&E.signal.aborted)return w(new q("Aborted","AbortError"));var B=new XMLHttpRequest;function a(){B.abort()}B.onload=function(){var s,l,w={status:B.status,statusText:B.statusText,headers:(s=B.getAllResponseHeaders()||"",l=new p,s.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(s){var _=s.split(":"),w=_.shift().trim();if(w){var E=_.join(":").trim();l.append(w,E)}})),l)};w.url="responseURL"in B?B.responseURL:w.headers.get("X-Request-URL");var E="response"in B?B.response:B.responseText;_(new O(E,w))},B.onerror=function(){w(new TypeError("Network request failed"))},B.ontimeout=function(){w(new TypeError("Network request failed"))},B.onabort=function(){w(new q("Aborted","AbortError"))},B.open(E.method,E.url,!0),"include"===E.credentials?B.withCredentials=!0:"omit"===E.credentials&&(B.withCredentials=!1),"responseType"in B&&T&&(B.responseType="blob"),E.headers.forEach((function(s,l){B.setRequestHeader(l,s)})),E.signal&&(E.signal.addEventListener("abort",a),B.onreadystatechange=function(){4===B.readyState&&E.signal.removeEventListener("abort",a)}),B.send(void 0===E._bodyInit?null:E._bodyInit)}))}D.polyfill=!0,self.fetch||(self.fetch=D,self.Headers=p,self.Request=k,self.Response=O)},,,,function(s,l,_){"use strict";_.r(l),new(_(13).a)}]);